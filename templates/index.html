<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StockSage</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link rel="stylesheet" href="/static/index.css">
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
</head>
<body>
    <div class="video-container">
        <video autoplay loop muted playsinline>
            <source src="/static/204306-923909642_small.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
    
    <!-- Landing Page Content -->
    <div id="landing-page" class="content">
        <h1>Welcome to StockSage</h1>
        <h3>Your AI-powered stock analysis tool</h3>
        
        <div class="features-container mt-4">
            <div class="row justify-content-center">
                <div class="col-md-4">
                    <div class="feature-card">
                        <div class="feature-icon">ðŸ“Š</div>
                        <h4>Moving Averages</h4>
                        <p>View 100-day and 200-day moving averages to understand price trends</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-card">
                        <div class="feature-icon">ðŸ§ </div>
                        <h4>LSTM Prediction</h4>
                        <p>Advanced neural network predictions based on historical patterns</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-card">
                        <div class="feature-icon">ðŸ“ˆ</div>
                        <h4>30-Day Forecast</h4>
                        <p>Get future price predictions with our AI-powered model</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="mt-4">
            <button class="button login-btn" onclick="checkAuthAndRedirect()">Get Started</button>
        </div>
    </div>
    
    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCQUHUCd8bKnRdv3AJm9InBlwbfyy4YVWw",
            authDomain: "stocksage-dee21.firebaseapp.com",
            projectId: "stocksage-dee21",
            storageBucket: "stocksage-dee21.firebasestorage.app",
            messagingSenderId: "959336780489",
            appId: "1:959336780489:web:ef6bbb9b823efa312ef318",
            measurementId: "G-HW7K3FFKV6"
        };
        
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        
        // Check authentication status and redirect accordingly
        function checkAuthAndRedirect() {
            firebase.auth().onAuthStateChanged(function(user) {
                if (user) {
                    // User is signed in, redirect to analysis page
                    window.location.href = "/analysis";
                } else {
                    // No user is signed in, redirect to login page
                    window.location.href = "/login";
                }
            });
        }
    </script>
</body>
</html>